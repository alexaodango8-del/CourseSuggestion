<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Assessment - Course Finder</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Course Assessment</h1>
    <form id="assessmentForm">
      <h1>Welcome, <span id="displayUser"></span>!</h1>
      
      <p>1. I enjoy working with tools, machines, or fixing things.</p>
      <label><input type="radio" name="q1" value="Realistic"> Strongly Agree</label>
      <label><input type="radio" name="q1" value="Realistic"> Agree</label>
      <label><input type="radio" name="q1" value="Neutral"> Neutral</label>
      <label><input type="radio" name="q1" value="Other"> Disagree</label>

      <p>2. I like solving puzzles, analyzing data, or doing experiments.</p>
      <label><input type="radio" name="q2" value="Investigative"> Strongly Agree</label>
      <label><input type="radio" name="q2" value="Investigative"> Agree</label>
      <label><input type="radio" name="q2" value="Neutral"> Neutral</label>
      <label><input type="radio" name="q2" value="Other"> Disagree</label>

      <p>3. I like writing stories, drawing, singing, or creating something new.</p>
      <label><input type="radio" name="q3" value="Artistic"> Strongly Agree</label>
      <label><input type="radio" name="q3" value="Artistic"> Agree</label>
      <label><input type="radio" name="q3" value="Neutral"> Neutral</label>
      <label><input type="radio" name="q3" value="Other"> Disagree</label>

      <p>4. I enjoy helping others, teaching, or volunteering.</p>
      <label><input type="radio" name="q4" value="Social"> Strongly Agree</label>
      <label><input type="radio" name="q4" value="Social"> Agree</label>
      <label><input type="radio" name="q4" value="Neutral"> Neutral</label>
      <label><input type="radio" name="q4" value="Other"> Disagree</label>

      <p>5. I like leading teams, selling products, or persuading people.</p>
      <label><input type="radio" name="q5" value="Enterprising"> Strongly Agree</label>
      <label><input type="radio" name="q5" value="Enterprising"> Agree</label>
      <label><input type="radio" name="q5" value="Neutral"> Neutral</label>
      <label><input type="radio" name="q5" value="Other"> Disagree</label>

      <p>6. I prefer organizing files, working with numbers, or following clear rules.</p>
      <label><input type="radio" name="q6" value="Conventional"> Strongly Agree</label>
      <label><input type="radio" name="q6" value="Conventional"> Agree</label>
      <label><input type="radio" name="q6" value="Neutral"> Neutral</label>
      <label><input type="radio" name="q6" value="Other"> Disagree</label>

      <p>7. I get more energy from being with people than being alone.</p>
      <label><input type="radio" name="q7" value="Social"> Strongly Agree</label>
      <label><input type="radio" name="q7" value="Social"> Agree</label>
      <label><input type="radio" name="q7" value="Neutral"> Neutral</label>
      <label><input type="radio" name="q7" value="Other"> Disagree</label>

      <p>8. I make decisions based more on logic than emotions.</p>
      <label><input type="radio" name="q8" value="Investigative"> Strongly Agree</label>
      <label><input type="radio" name="q8" value="Investigative"> Agree</label>
      <label><input type="radio" name="q8" value="Neutral"> Neutral</label>
      <label><input type="radio" name="q8" value="Other"> Disagree</label>

      <p>9. I like planning things step by step instead of being spontaneous.</p>
      <label><input type="radio" name="q9" value="Conventional"> Strongly Agree</label>
      <label><input type="radio" name="q9" value="Conventional"> Agree</label>
      <label><input type="radio" name="q9" value="Neutral"> Neutral</label>
      <label><input type="radio" name="q9" value="Other"> Disagree</label>

      <p>10. I often imagine new ideas and possibilities for the future.</p>
      <label><input type="radio" name="q10" value="Artistic"> Strongly Agree</label>
      <label><input type="radio" name="q10" value="Artistic"> Agree</label>
      <label><input type="radio" name="q10" value="Neutral"> Neutral</label>
      <label><input type="radio" name="q10" value="Other"> Disagree</label>

      <br><br>
      <button type="submit" class="btn">Submit</button>
    </form>
    <a href="index.html" class="btn">Back to Home</a>
  </div>

  <script>
  const form = document.getElementById("assessmentForm");
  const currentUser = localStorage.getItem("currentUser");

  if (!currentUser) {
    window.location.href = "index.html"; // force login if no user
  } else {
    document.getElementById("displayUser").innerText = currentUser;
  }

  function saveResult(suggestedCourse) {
    let now = new Date();
    let result = {
      date: now.toLocaleDateString(),
      time: now.toLocaleTimeString(),
      course: suggestedCourse
    };

    // save results for each user
    let userResults = JSON.parse(localStorage.getItem(currentUser)) || [];
    userResults.push(result);
    localStorage.setItem(currentUser, JSON.stringify(userResults));
  }

  form.addEventListener("submit", function(e) {
    e.preventDefault();

    // count category scores
    let categories = {
      Realistic: 0,
      Investigative: 0,
      Artistic: 0,
      Social: 0,
      Enterprising: 0,
      Conventional: 0
    };

    for (let i = 1; i <= 10; i++) {
      let answer = document.querySelector(`input[name="q${i}"]:checked`);
      if (answer && categories.hasOwnProperty(answer.value)) {
        categories[answer.value]++;
      }
    }

    // find top category
    let topCategory = Object.keys(categories).reduce((a, b) =>
      categories[a] > categories[b] ? a : b
    );

    // map category to course
    let courseMap = {
      Realistic: "Engineering / Architecture / Electronics / Industrial Technology",
      Investigative: "Biology / Chemistry / Physics / Mathematics / Information Technology",
      Artistic: "Multimedia Arts / Communication / Journalism / Fine Arts / Creative Writing",
      Social: "Education / Nursing / Social Work / Psychology / Tourism / Hospitality / Public Relations",
      Enterprising: "Business Administration / Marketing / Entrepreneurship / Public Administration",
      Conventional: "Accountancy / Finance / Office Administration / Criminology / Library Science"
    };

    let suggestedCourse = courseMap[topCategory] || "General Studies";

    // save result to localStorage under current user
    saveResult(suggestedCourse);

    alert(`The course that fits for you: ${suggestedCourse}`);
    window.location.href = "result.html"; // redirect to results page
  });
</script>
</body>
</html>




